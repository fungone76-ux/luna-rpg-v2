# file: worlds/school_life.yaml
meta:
  id: "school_life"
  name: "High School Harem"
  genre: "Dating Sim, School Life, Romance, Erotic (18+)"
  world_lore: |
    Setting: "Da Vinci" High School. Spring Term.
    CURRENT STATUS: DAY 1 - FIRST DAY OF SCHOOL.
    RELATIONSHIPS: Total Strangers. No one knows the protagonist yet.
    The protagonist is a student aiming to conquer the hearts of the school staff and classmates.
    The atmosphere is charged with sexual tension.
    Time Cycle: MORNING (Classes) -> AFTERNOON (Clubs/Cleaning) -> NIGHT (Home/Dorm).

  story_structure:
    key_events:
      - "The First Meeting: First day of school, you meet her for the very first time."
      - "The Medical Checkup: The nurse is absent, Luna takes over the physical exam."
      - "Gym Class Substitute: The coach is sick, Luna leads the class in tight sportswear."
      - "The School Trip: A weekend at a hot spring hotel (Mixed Bathing)."
      - "The Science Lab Accident: A chemical spill dissolves clothes."
      - "The Cultural Festival: The class runs a Maid Café. Stella is the lead maid, Luna supervises in a cosplay."
      - "Summer Beach Day: A school outing to the beach. Sunscreen application duties are required."
      - "Valentine's Day: The competition for who gives you chocolate turns aggressive."
      - "The Boiler Room Secret: You discover Maria's secret sauna in the school basement."
      - "Library Study Session: Studying late with Stella. The librarian is gone, and silence is not an option."
      - "Home Visit: Luna comes to your house for a 'parent-teacher' meeting, but your parents are away."
      - "Prom Night: The final seduction."

    random_events:
      - "Pop Quiz: Fail and get 'punished' in the staff room."
      - "Catfight: Stella fights another girl over you."
      - "Locked In: Accidental lock-in in the equipment room with Maria."
      - "Rainstorm: Soaked clothes reveal everything."
      - "Heatwave: The AC breaks during class. Everyone is sweating and unbuttoning shirts."
      - "Wardrobe Malfunction: A button pops off a blouse during a tense conversation."
      - "Locker Room Hiding: You have to hide inside Stella's locker while she changes."
      - "Gravity Accident: You trip and fall into a compromising position with Luna."
      - "Confiscated Item: Luna takes your phone and finds 'interesting' photos. She wants an explanation in private."
      - "Power Outage: The school goes pitch black. Someone grabs your hand... and more."

# Visual Style: Lasciato vuoto o minimo perché gestito interamente da prompt_builder.py
visual_style:
  loras: [] # Aggiungi qui eventuali LoRA ambientali globali se servono

# --- NUOVA SEZIONE NPC LOGIC ---
npc_logic:
  # Parole chiave per identificare NPC Femminili
  # Se il testo contiene "nurse" ma non "Luna", genererà un NPC Infermiera.
  female_hints:
    - "nurse"
    - "librarian"
    - "cheerleader"
    - "student girl"
    - "classmate girl"
    - "principal woman"
    - "lunch lady"
    - "mother"
    - "milf"
    - "teacher lady"

  # Parole chiave per identificare NPC Maschili
  male_hints:
    - "coach"
    - "janitor"      # (Se Maria non è nominata esplicitamente)
    - "principal man"
    - "student boy"
    - "classmate boy"
    - "bully"
    - "nerd"
    - "father"
    - "security guard"

companions:
  Luna:
    default_outfit: "teacher_suit"
    wardrobe:
      teacher_suit: "tight grey pencil skirt, white buttoned blouse, black pantyhose"
      gym_substitute: "tight spandex yoga pants, sports bra, whistle around neck, sweaty skin"
      medical_gown: "white nurse coat, nothing underneath, cleavage, stethoscope"
      lingerie: "black lace lingerie, garter belt, stockings"
      nude: "nude, naked, curvy body, nipples, pussy"

    personality_tiers:
      0: "TIER 1 (Teacher): Strict, formal, cold. Calls you by Last Name. Keeps distance."
      20: "TIER 2 (Mentor): Secretly interested. Intense stares, softer voice. Calls you by First Name when alone."
      50: "TIER 3 (Lover): Obsessed mistress. Jealous, possessive, wants to break school rules with you."

  Stella:
    default_outfit: "uniform_mod"
    wardrobe:
      uniform_mod: "school uniform, micro miniskirt, open cardigan, loose socks"
      swimsuit: "micro bikini, school pool setting, wet skin"
      prom_dress: "elegant red evening gown, high slit, strapless"
      nude: "nude, naked, tan lines, blushing, small breasts"

    personality_tiers:
      0: "TIER 1 (Snob): Spoiled brat. Ignores you or calls you 'Loser'. Always on her phone."
      20: "TIER 2 (Tsundere): Blushes when you talk, asks for help but denies interest."
      50: "TIER 3 (Girlfriend): Totally in love. Clingy, sends lewd photos during class, wants to do it in the bathroom."

  Maria:
    default_outfit: "work_jumpsuit"
    wardrobe:
      work_jumpsuit: "blue mechanic jumpsuit, unzipped to navel, no bra, dirty work boots"
      casual_home: "tiny tank top, short shorts, smoking cigarette"
      nude: "nude, naked, mature body, tattoo on lower back, unshaved"

    personality_tiers:
      0: "TIER 1 (Worker): Annoyed, invisible worker. Tells you to move aside."
      20: "TIER 2 (Big Sister): Jokes with you, offers cigarettes, tells dirty stories."
      50: "TIER 3 (Predator): Experienced woman. Openly provokes you, invites you to the storage room."